<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Balloon Pop Party ðŸŽˆ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@600&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(180deg, #87CEFA 0%, #E0F7FA 100%);
            min-height: 100vh;
            overflow: hidden; /* Keep balloons inside */
            display: flex;
            flex-direction: column;
            align-items: center;
            user-select: none;
        }

        /* --- SCORE BOARD --- */
        .header {
            z-index: 10;
            margin-top: 20px;
            text-align: center;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 30px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        h2 { color: #555; font-size: 1.2rem; margin-bottom: 10px; }

        .password-display {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #d6336c;
            letter-spacing: 2px;
            min-height: 60px;
            font-weight: bold;
            text-shadow: 2px 2px 0px white;
        }

        /* --- BALLOON STYLES --- */
        .balloon {
            position: absolute;
            bottom: -150px;
            width: 60px;
            height: 80px;
            border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
            cursor: crosshair;
            box-shadow: inset -5px -5px 10px rgba(0,0,0,0.1);
            animation: floatUp linear forwards;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: rgba(255,255,255,0.8);
        }

        /* Balloon String */
        .balloon::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 15px;
            background: rgba(0,0,0,0.3);
        }

        /* Balloon Colors */
        .c1 { background: #ff758c; }
        .c2 { background: #ffeb3b; }
        .c3 { background: #4facfe; }
        .c4 { background: #a18cd1; }
        .c5 { background: #00f260; }
        .c6 { background: #ff9a9e; }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-50vh) rotate(5deg); }
            100% { transform: translateY(-120vh) rotate(-5deg); }
        }

        /* --- POP ANIMATION --- */
        .pop-effect {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            transform: scale(0);
            animation: burst 0.3s ease-out;
            pointer-events: none;
            border-radius: 50%;
        }
        @keyframes burst { 0% { transform: scale(0); opacity: 1; } 100% { transform: scale(2); opacity: 0; } }

        /* --- START SCREEN --- */
        #start-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); color: white; z-index: 100;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer;
        }

        /* --- NEXT BUTTON --- */
        #next-btn {
            margin-top: 20px;
            padding: 15px 40px;
            background: linear-gradient(45deg, #ff00cc, #333399);
            color: white;
            border-radius: 50px;
            font-weight: bold;
            text-decoration: none;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            display: none; /* Hidden initially */
            animation: bounceIn 1s;
        }
        @keyframes bounceIn { 0% { transform: scale(0); } 60% { transform: scale(1.1); } 100% { transform: scale(1); } }

    </style>
</head>
<body>

    <div id="start-screen" onclick="startGame()">
        <h1 style="font-family:'Dancing Script'; font-size: 3rem;">Pop the Balloons! ðŸŽˆ</h1>
        <p>Find the Secret Password...</p>
        <p>(Tap to Start)</p>
    </div>

    <div class="header">
        <h2>Secret Password:</h2>
        <div class="password-display" id="display-area">
            </div>
        <a href="page8.html" id="next-btn">Claim Your Reward â†’</a>
    </div>

    <div id="balloon-container"></div>

    <audio id="bg-music" loop>
        <source src="T7.mp3" type="audio/mpeg">
    </audio>
    <audio id="pop-sound">
        <source src="https://assets.mixkit.co/active_storage/sfx/2579/2579.wav" type="audio/wav">
    </audio>

    <script>
        // --- CONFIGURATION ---
        const secretText = "Talkative Tangii ðŸ’–â™¾ï¸";
        let currentIndex = 0;
        let gameActive = false;
        
        const displayArea = document.getElementById('display-area');
        const balloonContainer = document.getElementById('balloon-container');
        const popSound = document.getElementById('pop-sound');
        const bgMusic = document.getElementById('bg-music');

        // Initialize Display with Underscores
        let currentDisplay = Array(secretText.length).fill("_");
        
        function updateDisplay() {
            // Join array with spaces for better readability
            displayArea.innerText = currentDisplay.join(" ");
        }
        updateDisplay();

        // --- START GAME ---
        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            gameActive = true;
            bgMusic.play();
            // Spawn balloons continuously
            setInterval(createBalloon, 400); // New balloon every 0.4s
        }

        // --- CREATE BALLOON ---
        function createBalloon() {
            if (!gameActive && currentIndex >= secretText.length) return;

            const b = document.createElement('div');
            b.classList.add('balloon');
            
            // Random Color Class
            const colors = ['c1', 'c2', 'c3', 'c4', 'c5', 'c6'];
            b.classList.add(colors[Math.floor(Math.random() * colors.length)]);

            // Random Position
            b.style.left = Math.random() * 90 + 'vw';
            
            // Random Speed
            b.style.animationDuration = (Math.random() * 3 + 4) + 's'; // 4-7 seconds

            // Interaction
            b.onclick = function() { popBalloon(b); };
            
            balloonContainer.appendChild(b);

            // Cleanup balloon after animation ends to save memory
            setTimeout(() => { b.remove(); }, 7000);
        }

        // --- POP LOGIC ---
        function popBalloon(element) {
            // 1. Play Sound
            popSound.currentTime = 0;
            popSound.play();

            // 2. Create Visual Burst
            const burst = document.createElement('div');
            burst.classList.add('pop-effect');
            burst.style.left = element.offsetLeft + 'px';
            burst.style.top = element.offsetTop + 'px';
            document.body.appendChild(burst);
            setTimeout(() => burst.remove(), 300);

            // 3. Remove Balloon
            element.remove();

            // 4. Reveal Next Letter
            if (currentIndex < secretText.length) {
                // Get the correct character
                let char = secretText[currentIndex];
                
                // Update the display array
                currentDisplay[currentIndex] = char;
                updateDisplay();
                
                currentIndex++;

                // CHECK FOR WIN
                if (currentIndex === secretText.length) {
                    gameWin();
                }
            }
        }

        // --- WIN FUNCTION ---
        function gameWin() {
            // Launch confetti or celebrate
            document.getElementById('next-btn').style.display = 'inline-block';
            
            // Speed up balloons for celebration effect
            setInterval(createBalloon, 100);
        }

    </script>

</body>
</html>
